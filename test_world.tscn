[gd_scene load_steps=11 format=3 uid="uid://qayfh82tdfj7"]

[ext_resource type="PackedScene" uid="uid://i6ex30grw0hx" path="res://Player/player.tscn" id="1_o1yvq"]
[ext_resource type="PackedScene" uid="uid://bqsj8ui1l3hpn" path="res://Computer/wall.tscn" id="2_n2fo4"]
[ext_resource type="PackedScene" uid="uid://ced5pa85yno3j" path="res://Computer/item.tscn" id="3_ts33o"]
[ext_resource type="PackedScene" uid="uid://chtvbete705mt" path="res://Computer/Switch.tscn" id="4_8npwg"]
[ext_resource type="PackedScene" uid="uid://bimuao1dd3p8p" path="res://Computer/lever.tscn" id="5_p0b8n"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_aigjr"]
sky_top_color = Color(0.290196, 0.431373, 0.756863, 1)
sky_horizon_color = Color(0.827451, 0.572549, 0.647059, 1)
sky_curve = 0.0568394
sky_energy_multiplier = 0.5
sky_cover_modulate = Color(0.745098, 0.235294, 0.592157, 1)

[sub_resource type="Sky" id="Sky_ctk4j"]
sky_material = SubResource("ProceduralSkyMaterial_aigjr")

[sub_resource type="Environment" id="Environment_72jfm"]
background_mode = 2
background_energy_multiplier = 1.48
sky = SubResource("Sky_ctk4j")

[sub_resource type="QuadMesh" id="QuadMesh_mru6l"]
size = Vector2(50, 50)
orientation = 1

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nom87"]
points = PackedVector3Array(-25, 0, -25, -25, 0, 25, 25, 0, -25, 25, 0, 25)

[node name="TestWorld" type="Node3D"]

[node name="WorldData" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldData"]
transform = Transform3D(0.691046, -0.46527, 0.553153, 0, 0.765281, 0.643696, -0.72281, -0.444824, 0.528845, 8.57536, 7.65731, -9.53674e-07)
light_color = Color(0.588235, 1, 1, 1)
light_energy = 0.543
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="WorldData"]
environment = SubResource("Environment_72jfm")

[node name="Floor" type="StaticBody3D" parent="WorldData"]
collision_layer = 3
collision_mask = 3

[node name="MeshInstance3D" type="MeshInstance3D" parent="WorldData/Floor"]
mesh = SubResource("QuadMesh_mru6l")

[node name="CollisionShape3D" type="CollisionShape3D" parent="WorldData/Floor"]
shape = SubResource("ConvexPolygonShape3D_nom87")

[node name="Player" parent="." instance=ExtResource("1_o1yvq")]

[node name="Item" parent="." instance=ExtResource("3_ts33o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.775467, 1.24418, 3.11329)
collision_layer = 2
collision_mask = 2

[node name="Item2" parent="." instance=ExtResource("3_ts33o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.54349, 1.24418, 3.11329)
collision_layer = 2
collision_mask = 2

[node name="Item3" parent="." instance=ExtResource("3_ts33o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.54349, 1.24418, 0.589385)
collision_layer = 2
collision_mask = 2

[node name="Item4" parent="." instance=ExtResource("3_ts33o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.23296, 1.24418, 0.589385)
collision_layer = 2
collision_mask = 2

[node name="Wall" parent="." instance=ExtResource("2_n2fo4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.99366, 0, -0.0866761)
collision_layer = 3
collision_mask = 3

[node name="Wall2" parent="." instance=ExtResource("2_n2fo4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.99366, 0, -0.0866761)
collision_layer = 3
collision_mask = 3
door = true

[node name="Wall3" parent="." instance=ExtResource("2_n2fo4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.99366, 0, -0.0866761)
collision_layer = 3
collision_mask = 3

[node name="Switch" parent="." instance=ExtResource("4_8npwg")]
transform = Transform3D(1.91069e-15, -4.37114e-08, 1, -1, -4.37114e-08, 0, 4.37114e-08, -1, -4.37114e-08, 6.82642, 1.59482, -0.185128)
collision_layer = 3
collision_mask = 3

[node name="Wall4" parent="." instance=ExtResource("2_n2fo4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, -0.0690892)
collision_layer = 3
collision_mask = 3
door = true

[node name="Lever" parent="." instance=ExtResource("5_p0b8n")]
transform = Transform3D(-1, -8.74228e-08, 3.82137e-15, 0, -4.37114e-08, -1, 8.74228e-08, -1, 4.37114e-08, 10.9299, 1.58402, -0.20142)
collision_layer = 3
collision_mask = 3

[connection signal="switched" from="Switch" to="Wall2" method="_on_switch_switched"]
[connection signal="state_changed" from="Lever" to="Wall4" method="_on_lever_state_changed"]
